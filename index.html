<!DOCTYPE html>
<html>

<head>
    <title>Logiform</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=0.82, maximum-scale=0.82, user-scalable=no"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <!-- jQuery -->
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> 

    <!-- Bootstrap 3 -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.css">
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

    <!-- bootstrap-select -->
    <script src="lib/bootstrap-select/bootstrap-select.js"></script> 
    <link rel="stylesheet" href="lib/bootstrap-select/bootstrap-select.css">

    <!-- google fonts -->
    <link href='http://fonts.googleapis.com/css?family=Arvo:400,700' rel='stylesheet' type='text/css'>

    <!-- logiform -->
    <script src="logiform.js"></script> 
    <link rel="stylesheet" href="logiform.css">

    <!-- inline styles -->
    <style>
    h1, h2, h3, h4, h5, h6 {
        font-family: 'Arvo', serif;
        font-weight: 700;
    }
    h1 {
        font-size: 36pt;
    }
    p {
        font-family: 'Arvo', serif;
    }
    textarea {
        font-family: monospace;
        border: 0;

        width: 100%;
        height: 100%;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;

        border: 1px solid #ccc;
        border-radius: 10px;
        padding: 8px 14px;
    }

    .lf-condition-group {
        border: 1px solid #ccc;
        border-radius: 10px;
        padding: 8px 14px;
        margin: 0px;
        background-color: rgba(128,128,32,0.08);
    }

    .lf-condition-group .lf-condition-group {
        margin: 0px 0px 10px 0 ;
    }

    .lf-condition-value {
        position: relative;
        display: inline-block;
        vertical-align: top;
    }

    .col-md-8, .col-md-4 {
        padding-top: 10px;
    }
    </style>
</head>

<body>
<div class="container">
    <h1>Logiform</h1>
    <div class="row">
        <div class="col-md-12">
            <p class="lead">
                Logiform creates a MongoDB-alike query string from a sequence of complex conditions, vice versa.<br>
                Still in very early stage of development, and <a href="https://github.com/lqez/logiform">I'm living in GitHub</a>.
            </p>
            <div>
                <!-- Twitter -->
                <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

                <!-- Google Plus -->
                <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
                <div class="g-plusone" data-size="medium"></div>

                <!-- Facebook -->
                <div id="fb-root" style="display:inline-block"></div>
                <script>(function(d, s, id) {
                  var js, fjs = d.getElementsByTagName(s)[0];
                  if (d.getElementById(id)) return;
                  js = d.createElement(s); js.id = id;
                  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=194162310738860";
                  fjs.parentNode.insertBefore(js, fjs);
                }(document, 'script', 'facebook-jssdk'));</script>
                <script>
                    var s = '<div class="fb-like" data-href="'+document.location+'" data-width="450" data-layout="button_count" data-show-faces="true" data-send="true"></div>';
                    document.write(s);
                </script>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-8">
            <div class="form-group">
                <button id="btn-bake" type="button" class="btn btn-sm btn-info">Bake into string</button>
                <label>
                    <input id="btn-liveupdate" type="checkbox" checked> Live update
                </label>
            </div>
            <div id="logiform-target"></div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <button id="btn-parse" type="button" class="btn btn-sm btn-info">Parse</button>
                <label>
                    <input id="btn-prettify" type="checkbox" checked> Prettify
                </label>
            </div>
            <textarea name="filter" id="logiform-source" class="logiform" rows="26"></textarea>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2>How to use</h2>
            <p>Download <a href="https://github.com/lqez/logiform/">logiform</a> and add below codes into the &lt;head&gt; section of your HTML page.</p>
            <pre><code>&lt;script src="logiform.js"&gt;&lt;/script&gt; 
&lt;link rel="stylesheet" href="logiform.css"&gt;</code></pre>
            <p>And activate it!</p>
            <pre><code>$("#foobar").logiform();</code></pre>
            <p>There are enormous options for customizing logiform, check them out <a href="https://github.com/lqez/logiform#options">here</a>.</p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h2>License</h2>
            <p>Logiform is distributed under MIT License.</p>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-12">
            <p class="pull-right">Logiform by <a href="https://twitter.com/lqez/">Park Hyunwoo</a>, 2013</p>
        </div>
    </div>
<script>
$(document).ready(function() {
    // Initialize logiform 
    var logiform = $('#logiform-source').logiform({
        'hideOriginal': false,
        'target': $('#logiform-target'),
        'prettify': true,
        'liveUpdate': true,
        'onUpdate': function() {
            $('.selectpicker').selectpicker('refresh');
        },
        'data': '{"$or":[{"$and":[{"devicetype":{"$eq":"iPad"}},{"language":{"$eq":"ko"}}]},{"$and":[{"devicetype":{"$eq":"iPhone"}},{"version":{"$gt":"3.0"}}]},{"country":{"$eq":"jp"}}]}',
        'schema': [
            {
                'id': 'devicetype', 
                'description': 'Device Type',
                'type': 'string',
                'candidates': [
                    'iPad',
                    'iPhone'
                ]
            },
            {
                'id': 'version',
                'description': 'Application Version',
                'placeholder': 'e.g. 1.0.0',
                'type': 'string'
            },
            {
                'id': '|',
            },
            {
                'id': 'language',
                'description': 'Supported languages',
                'type': 'array',
                'multiple': true,
                'candidates': [
                    ['ko', 'Korean'],
                    ['en', 'English'],
                    ['ja', 'Japanese'],
                    '|',
                    ['kl', 'Klingon']
                ]
            },
            {
                'id': 'country',
                'description': 'Country',
                'type': 'array',
                'candidates': [
                    ['kr', 'Korea'],
                    ['us', 'United States'],
                    ['jp', 'Japan']
                ]
            },
            {
                'id': 'quantity',
                'description': 'Quantity',
                'type': 'number'
            }
        ]
    });

    // Initialize bootstrap-select
    $('.selectpicker').selectpicker();


    // Initialize buttons
    $('#btn-bake').click( function() {
        logiform.data("logiform").bake();
    });
    $('#btn-liveupdate').click( function() {
        logiform.data("logiform").settings.liveUpdate = this.checked;
        if (this.checked) logiform.data("logiform").bake();
    });
    $('#btn-parse').click( function() {
        logiform.data("logiform").parse($("#logiform-source").val());
        logiform.data("logiform").update();
    });
    $('#btn-prettify').click( function() {
        logiform.data("logiform").settings.prettify = this.checked;
        logiform.data("logiform").bake();
    });
});
</script>
</body>
</html>
